%Jennifer Pan, August 2011

\documentclass[10pt,letter]{article}
	% basic article document class
	% use percent signs to make comments to yourself -- they will not show up.

\usepackage{amsmath}
\usepackage{amssymb}
	% packages that allow mathematical formatting

\usepackage{graphicx}
	% package that allows you to include graphics

\usepackage{setspace}
	% package that allows you to change spacing

\onehalfspacing
	% text become 1.5 spaced

\usepackage{fullpage}
	% package that specifies normal margins

\renewcommand{\vector}[1]{\boldsymbol{#1}}
\newcommand{\problem}[1]{\section*{Problem #1}}
\newcommand{\problempart}[1]{\paragraph{#1}}

\begin{document}
	% line of code telling latex that your document is beginning


\title{Problem Set 1}

\author{Nicholas Wu}

\date{Fall 2020}
	% Note: when you omit this command, the current dateis automatically included

\maketitle
	% tells latex to follow your header (e.g., title, author) commands.
\textbf{Note:} I use bold symbols to denote vectors and nonbolded symbols to denote scalars. I primarily use vector notation to shorthand some of the sums, since many of the sums are dot products.

\problem{1}

\problempart{(1)} Markets are only open at period 0, and goods for all periods of time are traded. Consumers may trade with anyone from their own consumer group or the other consumer group.

At the Arrow-Debreu equilibrium price vector $\vector{p} = \{p_0, p_1, p_2, ... \}$ and allocation, agents of type $i$ maximize their own utility:
\[ U(\vector{c^i}) = \sum_{t=0}^\infty \beta^t \log c^i_t \]
 subject to their budget constraint:
\[ \vector{p}\cdot \vector{c^i} \le \vector{p}\cdot \vector{w^i} \]
where $\vector{c^i}$ denotes the vector of allocations given to type $i$ across time, and $\vector{w^i}$ denotes the vector of endowments given to type $i$ across times. \\\\
An Arrow-Debreu equilibrium must satisfy allocation feasibility. That is, for all $t \ge 0$:
\[ \sum_{i=1}^2 c^i_t \le \sum_{i=1}^2 w^i_t \]
We also require allocations to be nonnegative:
\[ c^i_t \ge 0 \]
\problempart{(2)}
An allocation $(\vector{c^1}, \vector{c^2} )$ Pareto dominates another allocation $(\vector{\tilde{c}^1},\vector{\tilde{c}^2})$ if $\forall i$:
\[ u_i(\vector{c^i}) \ge u_i(\vector{\tilde{c}^i}) \]
and for some $i$,
\[ u_i(\vector{c^i}) > u_i(\vector{\tilde{c}^i}) \]
An allocation is Pareto efficient if no other allocation Pareto dominates it. The planner maximizes the following:
\[ \alpha_1 \sum_{t=0}^\infty \beta^t \log c^1_t + \alpha_2 \sum_{t=0}^\infty \beta^t \log c^2_t  \]
subject to ($\forall t$)
\[ c^1_t + c^2_t \le w^1_t + w^2_t \]
To solve this, we have the following FOCs ($\forall i, \forall t$):
\[ \frac{\alpha_i \beta^t}{c^i_t} = \lambda_{t}  \]
where $\lambda_t$ is the Lagrange multiplier for the feasibility constraint at time $t$. Using the fact that these constraints must bind (since $\log$ is monotonically increasing), we have
\[ \frac{\alpha_1 \beta^t}{\lambda_{t}} + \frac{\alpha_2 \beta^t}{\lambda_t} = w^1_t + w^2_t \]
\[ \frac{\beta^t(\alpha_1 + \alpha_2)}{w^1_t + w^2_t} = \lambda_t \]
and therefore
\[ c^i_t = \frac{\alpha_i}{\alpha_1 + \alpha_2}(w^1_t + w^2_t) \]
Using the fact that
$ \vector{w^1} + \vector{w^2} = \{4, 4, 4, 4, \dots\} $
we can simplify this to
\[ c^i_t = \frac{4\alpha_i}{\alpha_1 + \alpha_2}\]

\problempart{(3)}
We note that $w^1_t + w^2_t = 4$ always in this example. From the lecture, we know that after we normalize prices $p_0 = p$, we have that the prices are given by:
\[ p_t = p\beta^t \frac{w^1_0 + w^2_0}{w^1_t + w^2_t} = p\beta^t \]
Using the fact that the budget constraint binds, we have
\[ c^i_t = (1-\beta)\sum_{k=0}^\infty \beta^k w^i_k \]

We compute
\[ \phi_1 = \sum_{k=0}^\infty \beta^k w^1_k = \frac{1}{1-\beta} + \frac{2\beta }{1-\beta^2} = \frac{1 + 3\beta }{1-\beta^2} \]
\[ \phi_2 = \sum_{k=0}^\infty \beta^k w^2_k = \frac{1}{1-\beta} + \frac{2}{1-\beta^2} = \frac{3 + \beta }{1-\beta^2} \]
Together, the equilibrium is then:
\[ \left\{\vector{\tilde{c^1}} = \left\{\frac{1+3\beta }{1+\beta} \right\}_{t=0}^\infty, \vector{\tilde{c^2}} = \left\{\frac{3+\beta }{1+\beta} \right\}_{t=0}^\infty, \vector{\tilde{p}} =\{ \beta^t p \}_{t=0}^\infty \right\} \]
To show that this is Pareto efficient, it suffices to show that this is a solution to the social planner problem for some $(\alpha_1, \alpha_2)$ (since the solution to the social planner problem is Pareto efficient). Using the previous problem part, we easily see that choosing $(\alpha_1, \alpha_2) = (1+3\beta, 3+\beta)$ suffices.
\problempart{(4)}
In a sequential market, markets are open at each time $t$. At that time, the agents can trade the period $t$ good with each other, but they can also trade credit for the period $t+1$ good (trading a unit of the period $t$ good for $(1+r_{t+1})$ of the period $t+1$ good). All agents can trade with each other, and we normalize the price of the period $t$ good to 1 at each period. Let $c^i_t, s^i_{t+1}$ denote the consumption and savings at time $t$. To make our notation easier, let us set $s^i_0 = 0$, $r_0 = 0$. At equilibrium, we then have an allocation $(\vector{c}^i, \vector{s}^i)_{i=1,2}$, and a vector of interest rates $\vector{r}$. The equilibrium must satisfy agent maximization: that is,
\[ \max \sum_{t=0}^\infty \beta^t u(c^i_t) \]
subject to:
\[ c^i_t + s^i_{t+1} \le w^i_t + (1+r_{t})s^i_t \]
\[ c^i_t \ge 0, \ s^i_t \ge -A^i \]
where $A^i$ is a borrowing limit. The equilibrium must also be feasible and budget balanced:
\[ c^1_t + c^2_t \le w^1_t + w^2_t \]
\[ s^1_t + s^2_t = 0 \]
Writing out the Lagrangian and FOCs, we find that
\[ c^i_t = \beta^t c^i_0 \prod_{k=0}^t (1+ r_k)  \]
Using the market clearing condition, we find that
\[\beta^t c^1_0 \prod_{k=0}^t (1+ r_k) + \beta^t c^2_0 \prod_{k=0}^t (1+ r_k) = 4 \]
\[ \prod_{k=0}^t (1+ r_k) = \frac{1}{\beta^t} \]
\[ 1 + r_{t+1} = \frac{1}{\beta} \]
\[ r_{t+1} = \frac{1-\beta}{\beta} \]
Therefore, we get
\[ c^i_t = c^i_0 \]
Now, since the budget constraints bind, we have
\[ c^i_t + s^i_{t+1} = w^i_t + \frac{1}{\beta}s^i_t \]
\[ w^i_t - c^i_t = s^i_{t+1} - \frac{1}{\beta}s^i_t \]
\[ \beta^{t+1} (w^i_t - c^i_t) = \beta^{t+1}s^i_{t+1} - \beta^t s^i_{t} \]
Summing both sides from $t = 0$ to $\infty$, we get
\[ \sum_{t=0}^\infty \beta^{t+1} (w^i_t - c^i_t) = \sum_{t=0}^\infty \beta^{t+1}s^i_{t+1} - \beta^t s^i_{t} = \sum_{t=1}^\infty \beta^{t}s^i_{t} -  \sum_{t=0}^\infty \beta^{t}s^i_{t} \]
Note that the RHS telescopes, and since we set $s^i_0 = 0$, we get
\[ 0 = \sum_{t=0}^\infty \beta^{t+1} (w^i_t - c^i_t) \]
Dividing out a $\beta$ and using the earlier derived fact that $c^i_0 = c^i_t = c^i$, we get
\[ 0 = \sum_{t=0}^\infty \beta^{t} (w^i_t - c^i) \]
\[ c^i = (1-\beta) \sum_{t=0}^\infty \beta^t w^i_t = (1-\beta)\phi_i \]
Hence we once again find:
\[ c^1 = \frac{1+3\beta }{1+\beta} \]
\[ c^2 = \frac{3+\beta }{1+\beta} \]
Solving for $s^i$ using the budget constraint, we find
\[ s^i_{t+1} = w^i_t - c^i_t + \frac{1}{\beta} s^i_{t} \]
Using the periodic nature of the endowment, we get
\[ (s^1_{2i+1}, s^2_{2i+1}) = \frac{-2\beta}{1+\beta}, \frac{2\beta}{1+\beta} \]
\[ (s^1_{2i}, s^2_{2i}) = 0 \]
We can unify these:
\[ (s^1_{t}, s^2_{t}) = \frac{-\beta(1 - (-1)^{t})}{1+\beta}, \frac{\beta(1 - (-1)^t)}{1+\beta} \]
Note that this is 0 for even $t$, and nonzero for odd $t$.
All together, the equilibrium is given by:
\[ \vector{c^1} = \left \{ \frac{1+3\beta }{1+\beta}  \right\}_{t=0}^\infty  \]
\[ \vector{c^2} = \left \{ \frac{3+\beta }{1+\beta}  \right\}_{t=0}^\infty  \]
\[ \vector{s^1} = \left \{ \frac{-\beta(1 - (-1)^{t})}{1+\beta}   \right\}_{t=0}^\infty  \]
\[ \vector{s^2} = \left \{ \frac{\beta(1 - (-1)^{t})}{1+\beta}   \right\}_{t=0}^\infty  \]
\[ \vector{r} = \left(0, \frac{1-\beta}{\beta},  \frac{1-\beta}{\beta}, \frac{1-\beta}{\beta}, \frac{1-\beta}{\beta}... \right)  \]
Note that the equilibrium allocation is exactly the same as the Arrow-Debreu equilibrium, and further, the interest rates at sequential equilibrium and the prices at Arrow-Debreu equilibrium satisfy:
\[ p_t \prod_{k=0}^t (1 + r_k) = 1 \]
\problempart{(5)}
An Arrow-Debreu equilibrium consists of an allocation $(\vector{c^1}, \vector{c^2})$, prices $\vector{p}$, and transfers $\tau^1, \tau^2$, such that the allocation is feasible ($c^1_t + c^2_t \le w^1_t + w^2_t$), budget-balanced ($\tau^1 + \tau^2 = 0$), and the allocation maximizes utility for each user:
\[ \max \sum_{t=0}^\infty \beta^t u^i(c^i_t) \]
subject to
\[ \vector{p}\cdot \vector{c^i} \le \vector{p}\cdot \vector{w^i} + \tau^i \]
for each $i$, and nonnegative $c^i_t$.

Note that in an Arrow-Debreu equilibrium with transfers, the FOCs are exactly the same. Therefore, from the FOCs and the market clearing condition, and normalizing $p_0 = p$, we calculate the prices again as:
\[ p_t = p\beta^t \frac{w^1_0 + w^2_0}{w^1_t + w^2_t} = p\beta^t \]
Using the fact that the budget constraint is binding, we have:
\[ p c^i_0 = (1-\beta)\left(\sum_{k=0}^\infty p \beta^k w_k + \tau^i \right) \]
\[ c^i_0 = (1-\beta)\left(\sum_{k=0}^\infty \beta^k w_k \right) +\frac{1-\beta}{p} \tau^i  \]
Now, from what we computed in part 3, we get
\[ c^1_t = \frac{1 + 3\beta}{1 + \beta} +\frac{1-\beta}{p} \tau^1 \]
\[ c^2_t = \frac{3 + \beta}{1 + \beta} +\frac{1-\beta}{p} \tau^2 \]
To implement $c^1_t =  c^2_t = 2$, we then have:
\[ \tau^1 = \frac{p}{1-\beta}\left(2 - \frac{1+3\beta}{1+\beta} \right) = \frac{p}{1+\beta} \]
\[ \tau^2 = \frac{p}{1-\beta}\left(2 - \frac{3+\beta}{1+\beta} \right) = -\frac{p}{1+\beta} \]
\problem{2}
\problempart{(1)}
Following the same process as in problem 1 part 3, we get that the equilibrium prices are
\[ \vector{p} = \left\{ p\beta^t \frac{w^1_0 + w^2_0}{w^1_t + w^2_t} \right\}_{t=0}^\infty \]
And consumption is given by
\[ \vector{c}^1 = \left\{ (w^1_t + w^2_t)\psi^1 \right\}_{t=0}^\infty \]
\[ \vector{c}^2 = \left\{ (w^1_t + w^2_t)\psi^2 \right\}_{t=0}^\infty \]
where
\[ \psi^i = (1-\beta)\sum_{k=0}^\infty \beta^k \frac{w^i_k}{w^1_k + w^2_k} \]
We note that at equilibrium, both groups of consumers insure in some sense, so that each consumer always consumes the same fraction of the total endowment at each period. We note that if the total endowment in each period is the same, then each group's consumption is constant across time. We also note the prices of the period $t$ goods depends linearly on the size of the total endowment for that time period, which also makes sense.
\problempart{(2)}
The continuation welfare under autarky is just the utility from consuming the endowment from period $t$ on, which is
\[ \sum_{k=t}^\infty \beta^k \log w^i_k \]
\problempart{(3)}
Whether consumers deviate depends on whether their continuation welfare under autarky is higher than their continuation welfare under the Arrow-Debreu equilibrium. Specifically, if
\[ \sum_{k=t}^\infty \beta^k \log w^i_k > \sum_{k=t}^\infty \beta^k \log c^i_k \]
for any $i, t$, the consumers of type $i$ will be incentivized to break the contract at time $t$. For the scenario in question 1, the condition for consumers of type i to remain in the contract is given by
\[ \sum_{k=t}^\infty \beta^k \log w^i_k \le \sum_{k=t}^\infty \beta^k \log c^i_k \]
Since the endowment is temporally periodic (with period 2), it suffices to check this condition for times $t=0$, $t=1$. However, we know that users maximize their utility in an Arrow-Debreu equilibrium, so since everyone's endowment is feasible to consume, the continuation welfare under autarky at $t=0$ must be at most the continuation welfare under the Arrow-Debreu equilibrium at $t=0$. Therefore, we only have to check $t=1$. For consumers of type 1, we have
\[ \sum_{k=1}^\infty \beta^k \log w^1_k \le \sum_{k=1}^\infty \beta^k \log \frac{1+3\beta}{1+\beta} \]
\[ \sum_{k=1}^\infty \beta^k \log w^1_k \le \frac{\beta}{1-\beta}\log \frac{1+3\beta}{1+\beta} \]
\[ \frac{\beta \log 3}{1-\beta^2} \le \frac{\beta}{1-\beta}\log \frac{1+3\beta}{1+\beta} \]
\[ \frac{\log 3}{1+\beta} \le \log \frac{1+3\beta}{1+\beta} \]
For consumers of type 2, we have
\[ \sum_{k=1}^\infty \beta^k \log w^2_k \le \sum_{k=1}^\infty \beta^k \log \frac{3+\beta}{1+\beta} \]
\[ \frac{\beta^2 \log 3}{1-\beta^2} \le \frac{\beta}{1-\beta}\log \frac{3+\beta}{1+\beta} \]
\[ \frac{\beta \log 3}{1+\beta} \le \log \frac{3+\beta}{1+\beta} \]
We note that the consumer of type 2's condition is weaker than the condition for the consumer of type 1, since
\[ \frac{\beta \log 3}{1+\beta} < \frac{\log 3}{1+\beta} \]
\[ \frac{3+\beta}{1+\beta} \ge \frac{1+3\beta}{1+\beta} \]
Hence, we only require $\beta$ such that
\[ \log 3 \le (1+\beta) \log \frac{1+3\beta}{1+\beta} \]
Using a numerical solver, we see this occurs for $\beta \ge 0.762403 = \beta^* $. Hence, for $\beta > \beta^*$, the consumers are incentivized to stick to the Arrow-Debreu equilibrium, but for $\beta < \beta^*$, there is incentive to break the contract.
\problempart{(4)}
Markets are incomplete here; only the goods in even periods can be traded. At each even period, group 1 consumers receive endowment 1 aand group 2 consumers receive endowment 3. Since the consumption in odd periods is fixed to the endowment (since the goods cannot be traded), the utility maximization is equivalent to each consumer maximizing utility with discount factor
\[ \sum_{t=0}^\infty \beta^{2t} c^i_{2t} \]
subject to
\[ \sum_{t=0}^\infty p_{2t} c^i_{2t} \le \sum_{t=0}^\infty p_{2t} w^i_{2t}\]
\[ c^1_{2t} + c^2_{2t} \le w^1_{2t} + w^2_{2t} \]
But the endowment across only even periods is constant! Hence, the Arrow-Debreu equilibrium doesn't result in any trading, so the equilibrium is simply that \textbf{each consumer consumes their own endowment}, and prices in the even periods given by $p_{2t} = p\beta^{2t}$.
\problem{3}
\problempart{(1)}
Now, the first order conditions are:
\[ \beta^t u_i'(c^i_t) = \lambda^i p_t \]
Fixing $p_0 = p$, we have
\[  \frac{u_i'(c^i_0)}{p} = \lambda^i \]
\[ \beta^t u_i'(c^i_t) = \frac{p_t}{p} u_i'(c^i_0) \]
\[ u_i'(c^i_t) = \frac{p_t}{p\beta^t } u_i'(c^i_0) \]
\[ c^i_t = u_i'^{(-1)} \left( \frac{p_t}{p\beta^t } u_i'(c^i_0) \right) \]
It's hard to say much about the allocation without more information on the $u_i$ functions. Since we also cannot really compute $p_t$, it is somewhat unclear how the equilibrium allocation relies on the endowments, since the endowments can affect the equilibrium prices.

\textbf{Special case:} if the $u_i'$ are homogeneous of degree $-k$ (since decreasing), then we can say
\[ c^i_t = \left(\frac{p\beta^t}{p_t} \right)^{1/k} c^i_0 \]
\[ p\beta^t\left(\frac{\sum_{i=1}^N w^i_0}{\sum_{i=1}^N w^i_t}\right)^k = p_t \]
\[ c^i_t = \left(\frac{\sum_{i=1}^N w^i_t}{\sum_{i=1}^N w^i_0}\right) c^i_0 \]
By budget constraint:
\[ \sum_{t=0}^\infty p\beta^t\left(\frac{\sum_{i=1}^N w^i_0}{\sum_{i=1}^N w^i_t}\right)^k w^i_t = \sum_{t=0}^\infty p\beta^t\left(\frac{\sum_{i=1}^N w^i_0}{\sum_{i=1}^N w^i_t}\right)^k \left(\frac{\sum_{i=1}^N w^i_t}{\sum_{i=1}^N w^i_0}\right) c^i_0  \]
\[ \left( \sum_{i=1}^N w^i_0\right) \sum_{t=0}^\infty \frac{\beta^tw^i_t}{\left(\sum_{i=1}^N w^i_t\right)^k}  = c^i_0 \sum_{t=0}^\infty \frac{\beta^t}{\left(\sum_{i=1}^N w^i_t\right)^{k-1}}   \]
\[ \left( \sum_{i=1}^N w^i_0\right) \frac{\sum_{t=0}^\infty \frac{\beta^tw^i_t}{\left(\sum_{i=1}^N w^i_t\right)^k}}{\sum_{t=0}^\infty \frac{\beta^t}{\left(\sum_{i=1}^N w^i_t\right)^{k-1}} }  = c^i_0   \]
In this very special case, we see that consumption is somewhat smoothed across time; the ratio of a consumer's consumption at time $t$ is proportional to the size of the total endowment of a good at that time $t$.

(As a speculation, intuitively I would like to be able to say that since $u_i$ is concave, the consumers are risk averse, so I would expect some kind of insurance across periods?)
\problempart{(2)}
The First Welfare Theorem will hold if $u'_i(x) > 0$; some weird results can occur if $u_i$ can be decreasing.
\end{document}
	% line of code telling latex that your document is ending. If you leave this out, you'll get an error
